"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { newObj[key] = obj[key]; } } } newObj.default = obj; return newObj; } }// src/messageComposerContext.ts
var _encoding = require('@mailchain/encoding');
function defaultMessageComposerContext() {
  return {
    random: (len) => globalThis.crypto != null ? Promise.resolve(globalThis.crypto.getRandomValues(new Uint8Array(len))) : Promise.resolve().then(() => _interopRequireWildcard(require("crypto"))).then(({ webcrypto }) => webcrypto.getRandomValues(new Uint8Array(len))),
    decodeUtf8: (content) => Promise.resolve(_encoding.decodeUtf8.call(void 0, content)),
    encodeBase64: (content, urlSafe) => urlSafe ? Promise.resolve(_encoding.encodeBase64UrlSafe.call(void 0, content)) : Promise.resolve(_encoding.encodeBase64.call(void 0, content))
  };
}



exports.defaultMessageComposerContext = defaultMessageComposerContext;
