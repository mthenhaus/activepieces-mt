"use strict";Object.defineProperty(exports, "__esModule", {value: true});

var _chunkLZE3QRHXjs = require('./chunk-LZE3QRHX.js');


var _chunkZIJL3L6Hjs = require('./chunk-ZIJL3L6H.js');

// src/transport/deliveryRequests/delivery.ts
var _crypto = require('@mailchain/crypto');
async function createDelivery(recipientMessagingKey, messageRootEncryptionKey, messageURI, rand = _crypto.secureRandom) {
  const payload = {
    envelope: await _chunkLZE3QRHXjs.createEnvelope.call(void 0, recipientMessagingKey, messageRootEncryptionKey, messageURI, rand)
  };
  const errMsg = _chunkZIJL3L6Hjs.protocol.Delivery.verify(payload);
  if (errMsg)
    throw Error(errMsg);
  return _chunkZIJL3L6Hjs.protocol.Delivery.create(payload);
}



exports.createDelivery = createDelivery;
