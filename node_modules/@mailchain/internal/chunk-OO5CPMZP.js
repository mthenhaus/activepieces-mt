"use strict";Object.defineProperty(exports, "__esModule", {value: true});// src/migration.ts
function nopMigration() {
  return {
    shouldApply: () => Promise.resolve(false),
    apply: (data) => Promise.resolve(data)
  };
}
function combineMigrations(...migrations) {
  return {
    shouldApply: async (data) => {
      for (const migration of migrations) {
        if (await migration.shouldApply(data))
          return true;
      }
      return false;
    },
    apply: async (data) => {
      let latestData = data;
      for (const migration of migrations) {
        if (await migration.shouldApply(latestData)) {
          latestData = await migration.apply(latestData);
        }
      }
      return latestData;
    }
  };
}




exports.nopMigration = nopMigration; exports.combineMigrations = combineMigrations;
