"use strict";Object.defineProperty(exports, "__esModule", {value: true});


var _chunkTOXDKCM7js = require('./chunk-TOXDKCM7.js');

// src/base58Check.ts
var _sha256 = require('@noble/hashes/sha256');
function decodeBase58Check(input) {
  const validatedPayload = validatePayload(_chunkTOXDKCM7js.decodeBase58.call(void 0, input));
  if (validatedPayload == null)
    throw new Error("failed input checksum validation");
  return validatedPayload;
}
function encodeBase58Check(input) {
  const checksum = calcChecksum(input).slice(0, 4);
  return _chunkTOXDKCM7js.encodeBase58.call(void 0, Uint8Array.from([...input, ...checksum]));
}
function calcChecksum(payload) {
  return _sha256.sha256.call(void 0, _sha256.sha256.call(void 0, payload));
}
function validatePayload(payloadWithChecksum) {
  const payload = payloadWithChecksum.slice(0, -4);
  const payloadChecksum = payloadWithChecksum.slice(-4);
  const checksum = calcChecksum(payload);
  if (payloadChecksum[0] ^ checksum[0] | payloadChecksum[1] ^ checksum[1] | payloadChecksum[2] ^ checksum[2] | payloadChecksum[3] ^ checksum[3]) {
    return null;
  }
  return payload;
}




exports.decodeBase58Check = decodeBase58Check; exports.encodeBase58Check = encodeBase58Check;
